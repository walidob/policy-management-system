//Generated by AI
{
  "info": {
    "name": "Policy Management System API",
    "description": "API collection for the Policy Management System",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "description": "Authentication endpoints",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"P@ssw0rd\"\n}"
            },
            "description": "Authenticates a user and returns a JWT token."
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "logout"
              ]
            },
            "description": "Logs out the currently authenticated user."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Policies",
      "description": "Policy management endpoints",
      "item": [
        {
          "name": "Get Policies (Based on User Role)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/policy?pageNumber=1&pageSize=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "policy"
              ],
              "query": [
                {
                  "key": "pageNumber",
                  "value": "1"
                },
                {
                  "key": "pageSize",
                  "value": "10"
                }
              ]
            },
            "description": "Retrieves a paginated list of policies based on the user's role. SuperAdmin: all policies across tenants; TenantAdmin: policies for their tenant; Regular user: their own policies."
          },
          "response": []
        },
        {
          "name": "Get Policy by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/policy/1?tenantId=tenant123",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "policy",
                "1"
              ],
              "query": [
                {
                  "key": "tenantId",
                  "value": "tenant123",
                  "description": "Required for SuperAdmin, ignored for other roles"
                }
              ]
            },
            "description": "Retrieves a specific policy by ID. SuperAdmin can specify tenantId, other roles are restricted to their own context."
          },
          "response": []
        },
        {
          "name": "Create Policy",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/policy",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "policy"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Sample Policy\",\n  \"description\": \"This is a sample policy\",\n  \"effectiveDate\": \"2024-05-01T00:00:00\",\n  \"expiryDate\": \"2025-05-01T00:00:00\",\n  \"policyTypeId\": 1,\n  \"tenantId\": \"tenant123\"\n}"
            },
            "description": "Creates a new policy. Requires SuperAdmin or TenantAdmin role. TenantAdmin's tenantId is automatically set based on their claims."
          },
          "response": []
        },
        {
          "name": "Update Policy",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/policy/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "policy",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Policy\",\n  \"description\": \"This is an updated policy\",\n  \"effectiveDate\": \"2024-05-01T00:00:00\",\n  \"expiryDate\": \"2025-05-01T00:00:00\",\n  \"policyTypeId\": 1\n}"
            },
            "description": "Updates an existing policy by ID. Requires SuperAdmin or TenantAdmin role. TenantAdmin can only update policies in their tenant."
          },
          "response": []
        },
        {
          "name": "Delete Policy",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/policy/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "policy",
                "1"
              ]
            },
            "description": "Deletes a policy by ID. Requires SuperAdmin or TenantAdmin role."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Claims",
      "description": "Claim management endpoints",
      "item": [
        {
          "name": "Get Claims",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/claim?pageNumber=1&pageSize=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "claim"
              ],
              "query": [
                {
                  "key": "pageNumber",
                  "value": "1"
                },
                {
                  "key": "pageSize",
                  "value": "10"
                }
              ]
            },
            "description": "Retrieves a paginated list of claims. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Get Claim by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/claim/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "claim",
                "1"
              ]
            },
            "description": "Retrieves a specific claim by ID. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Create Claim",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/claim",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "claim"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Sample Claim\",\n  \"description\": \"This is a sample claim\",\n  \"amount\": 1000.00,\n  \"policyId\": 1,\n  \"clientId\": 1\n}"
            },
            "description": "Creates a new claim. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Update Claim",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/claim/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "claim",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": 1,\n  \"title\": \"Updated Claim\",\n  \"description\": \"This is an updated claim\",\n  \"amount\": 1500.00,\n  \"status\": \"Approved\",\n  \"policyId\": 1,\n  \"clientId\": 1\n}"
            },
            "description": "Updates an existing claim by ID. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Delete Claim",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/claim/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "claim",
                "1"
              ]
            },
            "description": "Deletes a claim by ID. Requires authentication."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Clients",
      "description": "Client management endpoints",
      "item": [
        {
          "name": "Get Clients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client?pageNumber=1&pageSize=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client"
              ],
              "query": [
                {
                  "key": "pageNumber",
                  "value": "1"
                },
                {
                  "key": "pageSize",
                  "value": "10"
                }
              ]
            },
            "description": "Retrieves a paginated list of clients. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Get Client by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client",
                "1"
              ]
            },
            "description": "Retrieves a specific client by ID. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Create Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"phoneNumber\": \"+1234567890\",\n  \"dateOfBirth\": \"1990-01-01T00:00:00\"\n}"
            },
            "description": "Creates a new client. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Update Client",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client",
                "1"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": 1,\n  \"fullName\": \"John Doe Updated\",\n  \"email\": \"john.updated@example.com\",\n  \"phoneNumber\": \"+1987654321\",\n  \"dateOfBirth\": \"1990-01-01T00:00:00\"\n}"
            },
            "description": "Updates an existing client by ID. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Delete Client",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client",
                "1"
              ]
            },
            "description": "Deletes a client by ID. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Assign Policy to Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client/1/policies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client",
                "1",
                "policies"
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"policyId\": 1\n}"
            },
            "description": "Assigns a policy to a client. Requires authentication."
          },
          "response": []
        },
        {
          "name": "Get Client Policies",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/client/1/policies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "client",
                "1",
                "policies"
              ]
            },
            "description": "Retrieves all policies assigned to a client. Requires authentication."
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://localhost:57296",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ]
} 